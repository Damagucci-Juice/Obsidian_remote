엑스코드에서 Safari Web Extension을 빌드합니다. 

# 개요
사파리 웹 익스텐션을 만드려면, 엑스 코드 프로젝트를 "Safari Extension App Template"로 만들어야합니다.  맥OS에서나, iOS에서 사파리 웹 익스텐션을 포함하는 프로젝트여야합니다. 그래야 사용자가 앱스토어나 사파리에서 다운로드 합니다. 엑스코드 프로젝트는 기본 익스텐션 파일이 있는데요. Manifest와 script는 컨텐츠 페이지와 배경 페이지를 위한 것입니다. 툴바 팝업 메뉴와 이미지와 내부 코드를 위한 폴더들입니다. 

# Xcode Project 생성 및 설정
1. file -> New -> Project
2. MacOS, iOS 둘다 혹은 둘 중 하나만 만들지 선택
3. 어플리케이션 섹션에서 "Safari Extension App" 템플릿 설정
4.다음과 같이 설정
![[Pasted image 20231128135517.png]]

- 자바스크립트 API를 테스트 못함

# 웹 익스텐션 파일과 폴더 생성을 검토 
- Xcode가 프로젝트를  만들면 사파리 웹 익스텐션에 필요한 기본 파일의 기본 버전을 제공
- 다음과 같은 구조를 띔
![[Pasted image 20231128135759.png]]

프로젝트는 리소스 그룹에 웹 익스텐션의 기본 버전을 포함하고 있음
- `_locales`: 익스텐션이 사용하는 국제적인 문자열을 최적화하고 다른 언어를 폴더에 추가
- `images`: 기본 아이콘을 변경하고, 다른 이미지를 이 폴더에 추가
- `manifest.json`: manifest 파일을 최적화하고 브라우저에 extension을 알림
- `background.js`: 외부에 특정 웹페이지나 브라우저 윈도우에서 이 extension이 수행하는 활동들을 기록하는 javascript 파일을 추가하거나 커스텀
- `content.js`: 웹 페이지에 주입하는 JavaScript 파일을 추가하거나 커스텀
- `popup.html, popup.js, popup.css`:  이 파일들은 사파리에서 유저가 툴바에 있는 익스텐션을 클릭했을 때 나오는 팝업 메뉴를 커스텀

# 기본 아이콘과 툴바 아이콘 교체
- xcode에서 기본 아이콘과 툴바 아이콘을 Resource > Images 폴더에 제공
- 사파리는 아이콘 이미지를 Preferences > Extensions 안에서 사용해 유저가 익스텐션에 대해 세부 사항을 확인 할 수 있도록 아이콘 리스트를 표시함 
- 사파리는 툴바아이콘 이미지는 사용자가 툴바에 접근했을 때 웹페이지에서 팝업되었을 때 보여지는 이미지
- 기본 아이콘 이미지는 png  포맷이며 48, 64, 96, 128, 256, 512 픽셀
- 툴바 아이콘 이미지는 png 포맷이며 16,19,32,38 픽셀